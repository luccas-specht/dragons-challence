(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[532],{7353:function(e,r,t){"use strict";t.r(r),t.d(r,{__N_SSP:function(){return h}});var n=t(29),a=t(7794),u=t.n(a),o=t(4231),s=t(1163),i=t(5538),c=t(7294),p=t(5586),f=t(2233),d=t(6612),l=t(9528),m=t(5893),h=!0;r.default=function(){var e=(0,s.useRouter)().query.id,r=(0,f.v0)().call,t=(0,f.Yp)().call,a=(0,c.useRef)(null),h=(0,c.useState)(!1),v=h[0],_=h[1],x=(0,c.useState)({name:"",type:"",histories:""}),y=x[0],g=x[1],b=function(){var e;null===a||void 0===a||null===(e=a.current)||void 0===e||e.reset()},w=function(){var t=(0,n.Z)(u().mark((function t(n){var a,o,c;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return _(!0),t.next=3,r(String(e),n);case 3:if(a=t.sent,o=a.data,(c=a.error)||!o){t.next=15;break}return b(),_(!1),i.Am.success("Seu drag\xe3o foi editado com sucesso!"),t.next=12,(0,l.Em)(3500);case 12:s.default.push("/list-dragons"),t.next=16;break;case 15:i.Am.error(c);case 16:_(!1);case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=function(){var e=(0,n.Z)(u().mark((function e(r){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.current.setErrors({}),e.next=4,d.j.validate(r,{abortEarly:!1});case 4:w(r),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),t={},e.t0 instanceof o.p8&&(e.t0.inner.forEach((function(e){e.path&&(t[e.path]=e.message)})),a.current.setErrors(t));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),k=function(){var r=(0,n.Z)(u().mark((function r(){var n,a,o;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t(String(e));case 2:n=r.sent,a=n.data,!(o=n.error)&&a?g({name:a.name,histories:a.histories,type:a.type}):i.Am.error(o);case 6:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return(0,c.useEffect)((function(){k()}),[]),(0,m.jsx)(p.CA,{formRef:a,isLoading:v,initalValues:y,buttonName:"sign-in-button",buttonChildren:"Salvar altera\xe7\xf5es",textInputDragonType:"type",textInputDragonName:"name",textInputDragonHistory:"histories",textInputLabelDragonName:"Nome",textInputLabelDragonType:"Tipo",textInputLabelDragonHistory:"Descri\xe7\xe3o",handleSubmit:E})}},6612:function(e,r,t){"use strict";t.d(r,{j:function(){return a}});var n=t(4231),a=n.Ry().shape({name:n.Z_().min(3,"M\xednimo de 3 caracteres.").required("Por favor, preencha este campo."),type:n.Z_().min(3,"M\xednimo de 3 caracteres.").required("Por favor, preencha este campo."),histories:n.Z_().min(10,"M\xednimo de 5 caracteres.").required("Por favor, preencha este campo.")})},8899:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/update-dragon/[id]",function(){return t(7353)}])}},function(e){e.O(0,[980,866,622,231,586,774,888,179],(function(){return r=8899,e(e.s=r);var r}));var r=e.O();_N_E=r}]);